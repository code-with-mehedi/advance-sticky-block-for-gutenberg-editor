{"version":3,"file":"view.js","mappings":"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","sources":["webpack://advance-sticky-block-for-gutenberg-editor/./src/view.js"],"sourcesContent":["//document.addEventListener('DOMContentLoaded', () => {\n//\tconst stickyElements = document.querySelectorAll('.wp-block-create-block-advance-sticky-block-for-gutenberg-editor[data-sticky=\"true\"]');\n\n//\tstickyElements.forEach(stickyElement => {\n//\t\tlet isStuck = false;\n//\t\tlet originalTop = null;\n\n//\t\twindow.addEventListener('scroll', () => {\n//\t\t\tconst topOffsetStr = stickyElement.getAttribute('data-top-offset') || '0px'; // Default to 0px\n//\t\t\tlet topOffset = 0;\n\n//\t\t\t// Parse the top offset value\n//\t\t\tif (topOffsetStr.endsWith('px')) {\n//\t\t\t\ttopOffset = parseFloat(topOffsetStr);\n//\t\t\t} else if (topOffsetStr.endsWith('em')) {\n//\t\t\t\ttopOffset = parseFloat(topOffsetStr) * parseFloat(getComputedStyle(document.documentElement).fontSize);\n//\t\t\t} else if (topOffsetStr.endsWith('%')) {\n//\t\t\t\tconst parent = stickyElement.parentNode;\n//\t\t\t\tif (!parent) return;\n//\t\t\t\tconst parentHeight = parent.offsetHeight;\n//\t\t\t\ttopOffset = (parseFloat(topOffsetStr) / 100) * parentHeight;\n//\t\t\t} else {\n//\t\t\t\ttopOffset = parseFloat(topOffsetStr); // Assume px if no unit\n//\t\t\t}\n\n//\t\t\tconst parent = stickyElement.parentNode;\n//\t\t\tif (!parent) return;\n\n//\t\t\tconst parentRect = parent.getBoundingClientRect();\n//\t\t\tconst parentTop = window.scrollY + parentRect.top;\n//\t\t\tconst parentBottom = parentTop + parentRect.height;\n//\t\t\tconst stickyHeight = stickyElement.offsetHeight;\n//\t\t\tconst scrollTop = window.scrollY;\n\n//\t\t\tif (originalTop === null) {\n//\t\t\t\toriginalTop = stickyElement.offsetTop;\n//\t\t\t}\n\n//\t\t\tif (scrollTop + topOffset > parentTop && scrollTop + topOffset + stickyHeight < parentBottom) {\n//\t\t\t\tif (!isStuck) {\n//\t\t\t\t\tstickyElement.style.position = 'fixed';\n//\t\t\t\t\tstickyElement.style.top = topOffset + 'px';\n//\t\t\t\t\tstickyElement.style.width = parentRect.width + 'px';\n//\t\t\t\t\tstickyElement.style.left = parentRect.left + 'px';\n//\t\t\t\t\tstickyElement.style.marginTop = '0px';\n//\t\t\t\t\tisStuck = true;\n//\t\t\t\t}\n//\t\t\t} else if (scrollTop + topOffset <= parentTop && isStuck) {\n//\t\t\t\tstickyElement.style.position = 'relative';\n//\t\t\t\tstickyElement.style.top = originalTop + 'px';\n//\t\t\t\tstickyElement.style.width = 'auto';\n//\t\t\t\tstickyElement.style.left = 'auto';\n//\t\t\t\tstickyElement.style.marginTop = '0px';\n//\t\t\t\tisStuck = false;\n//\t\t\t} else if (scrollTop + topOffset + stickyHeight >= parentBottom && isStuck) {\n//\t\t\t\tstickyElement.style.position = 'absolute';\n//\t\t\t\tstickyElement.style.top = (parentRect.height - stickyHeight) + 'px';\n//\t\t\t\tstickyElement.style.width = parentRect.width + 'px';\n//\t\t\t\tstickyElement.style.left = '0';\n//\t\t\t\tstickyElement.style.marginTop = '0px';\n//\t\t\t\tisStuck = false;\n//\t\t\t}\n//\t\t});\n//\t});\n//});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\tconst stickyElements = document.querySelectorAll(\n\t\t'.wp-block-create-block-advance-sticky-block-for-gutenberg-editor[data-sticky=\"true\"]'\n\t);\n\n\tstickyElements.forEach((stickyElement) => {\n\t\tlet isStuck = false;\n\t\tlet originalTop = null;\n\n\t\tconst handleStickyBehavior = () => {\n\t\t\tconst viewportWidth = window.innerWidth;\n\n\t\t\t// Determine the offset based on viewport size\n\t\t\tlet topOffsetStr;\n\t\t\tif (viewportWidth <= 768) {\n\t\t\t\ttopOffsetStr = stickyElement.getAttribute('data-top-offset-mobile') || '0px';\n\t\t\t} else if (viewportWidth <= 1024) {\n\t\t\t\ttopOffsetStr = stickyElement.getAttribute('data-top-offset-tablet') || '0px';\n\t\t\t} else {\n\t\t\t\ttopOffsetStr = stickyElement.getAttribute('data-top-offset') || '0px';\n\t\t\t}\n\n\t\t\tlet topOffset = 0;\n\n\t\t\t// Parse the top offset value\n\t\t\tif (topOffsetStr.endsWith('px')) {\n\t\t\t\ttopOffset = parseFloat(topOffsetStr);\n\t\t\t} else if (topOffsetStr.endsWith('em')) {\n\t\t\t\ttopOffset =\n\t\t\t\t\tparseFloat(topOffsetStr) * parseFloat(getComputedStyle(document.documentElement).fontSize);\n\t\t\t} else if (topOffsetStr.endsWith('%')) {\n\t\t\t\tconst parent = stickyElement.parentNode;\n\t\t\t\tif (!parent) return;\n\t\t\t\tconst parentHeight = parent.offsetHeight;\n\t\t\t\ttopOffset = (parseFloat(topOffsetStr) / 100) * parentHeight;\n\t\t\t} else {\n\t\t\t\ttopOffset = parseFloat(topOffsetStr); // Assume px if no unit\n\t\t\t}\n\n\t\t\tconst parent = stickyElement.parentNode;\n\t\t\tif (!parent) return;\n\n\t\t\tconst parentRect = parent.getBoundingClientRect();\n\t\t\tconst parentTop = window.scrollY + parentRect.top;\n\t\t\tconst parentBottom = parentTop + parentRect.height;\n\t\t\tconst stickyHeight = stickyElement.offsetHeight;\n\t\t\tconst scrollTop = window.scrollY;\n\n\t\t\tif (originalTop === null) {\n\t\t\t\toriginalTop = stickyElement.offsetTop;\n\t\t\t}\n\n\t\t\t// Sticky behavior logic\n\t\t\tif (scrollTop + topOffset > parentTop && scrollTop + topOffset + stickyHeight < parentBottom) {\n\t\t\t\tif (!isStuck) {\n\t\t\t\t\tstickyElement.style.position = 'fixed';\n\t\t\t\t\tstickyElement.style.top = topOffset + 'px';\n\t\t\t\t\tstickyElement.style.width = parentRect.width + 'px';\n\t\t\t\t\tstickyElement.style.left = parentRect.left + 'px';\n\t\t\t\t\tstickyElement.style.marginTop = '0px';\n\t\t\t\t\tisStuck = true;\n\t\t\t\t}\n\t\t\t} else if (scrollTop + topOffset <= parentTop && isStuck) {\n\t\t\t\tstickyElement.style.position = 'relative';\n\t\t\t\tstickyElement.style.top = originalTop + 'px';\n\t\t\t\tstickyElement.style.width = 'auto';\n\t\t\t\tstickyElement.style.left = 'auto';\n\t\t\t\tstickyElement.style.marginTop = '0px';\n\t\t\t\tisStuck = false;\n\t\t\t} else if (scrollTop + topOffset + stickyHeight >= parentBottom && isStuck) {\n\t\t\t\tstickyElement.style.position = 'absolute';\n\t\t\t\tstickyElement.style.top = parentRect.height - stickyHeight + 'px';\n\t\t\t\tstickyElement.style.width = parentRect.width + 'px';\n\t\t\t\tstickyElement.style.left = '0';\n\t\t\t\tstickyElement.style.marginTop = '0px';\n\t\t\t\tisStuck = false;\n\t\t\t}\n\t\t};\n\n\t\t// Update sticky behavior on scroll and resize\n\t\twindow.addEventListener('scroll', handleStickyBehavior);\n\t\twindow.addEventListener('resize', handleStickyBehavior);\n\t});\n});\n"],"names":["document","addEventListener","stickyElements","querySelectorAll","forEach","stickyElement","isStuck","originalTop","handleStickyBehavior","viewportWidth","window","innerWidth","topOffsetStr","getAttribute","topOffset","endsWith","parseFloat","getComputedStyle","documentElement","fontSize","parent","parentNode","parentHeight","offsetHeight","parentRect","getBoundingClientRect","parentTop","scrollY","top","parentBottom","height","stickyHeight","scrollTop","offsetTop","style","position","width","left","marginTop"],"sourceRoot":""}